// We're using a specific command so we don't need to manage an AS2-like "depth" property, which has no meaning in Away3D's display hierarchy
// This implementation itself is a hack, tho, but it works.
var ApplyAS2DepthsCommand = (function () {
    function ApplyAS2DepthsCommand() {
    }
    ApplyAS2DepthsCommand.prototype.execute = function (sourceMovieClip, time) {
        var childrenArray = sourceMovieClip["_children"];
        childrenArray.sort(this.sortChildrenByDepth);
    };
    ApplyAS2DepthsCommand.prototype.sortChildrenByDepth = function (a, b) {
        var da = (a["__AS2Depth"]);
        var db = (b["__AS2Depth"]);
        if (da === undefined)
            da = 0;
        if (db === undefined)
            db = 0;
        return db - da;
    };
    return ApplyAS2DepthsCommand;
})();
module.exports = ApplyAS2DepthsCommand;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1wbGF5ZXIvbGliL3RpbWVsaW5lL2NvbW1hbmRzL0FwcGx5QVMyRGVwdGhzQ29tbWFuZC50cyJdLCJuYW1lcyI6WyJBcHBseUFTMkRlcHRoc0NvbW1hbmQiLCJBcHBseUFTMkRlcHRoc0NvbW1hbmQuY29uc3RydWN0b3IiLCJBcHBseUFTMkRlcHRoc0NvbW1hbmQuZXhlY3V0ZSIsIkFwcGx5QVMyRGVwdGhzQ29tbWFuZC5zb3J0Q2hpbGRyZW5CeURlcHRoIl0sIm1hcHBpbmdzIjoiQUFLQSxBQUVBLDZJQUY2STtBQUM3SSwyREFBMkQ7SUFDckQscUJBQXFCO0lBRXZCQSxTQUZFQSxxQkFBcUJBO0lBSXZCQyxDQUFDQTtJQUVNRCx1Q0FBT0EsR0FBZEEsVUFBZUEsZUFBMkJBLEVBQUVBLElBQVdBO1FBRW5ERSxJQUFJQSxhQUFhQSxHQUFHQSxlQUFlQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQTtRQUNqREEsYUFBYUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxDQUFDQTtJQUNqREEsQ0FBQ0E7SUFFT0YsbURBQW1CQSxHQUEzQkEsVUFBNEJBLENBQWVBLEVBQUVBLENBQWVBO1FBRXhERyxJQUFJQSxFQUFFQSxHQUFXQSxDQUFDQSxDQUFDQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNuQ0EsSUFBSUEsRUFBRUEsR0FBV0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDbkNBLEVBQUVBLENBQUNBLENBQUNBLEVBQUVBLEtBQUtBLFNBQVNBLENBQUNBO1lBQUNBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBO1FBQzdCQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxLQUFLQSxTQUFTQSxDQUFDQTtZQUFDQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUM3QkEsTUFBTUEsQ0FBQ0EsRUFBRUEsR0FBR0EsRUFBRUEsQ0FBQ0E7SUFDbkJBLENBQUNBO0lBQ0xILDRCQUFDQTtBQUFEQSxDQXBCQSxBQW9CQ0EsSUFBQTtBQUNELEFBQStCLGlCQUF0QixxQkFBcUIsQ0FBQyIsImZpbGUiOiJ0aW1lbGluZS9jb21tYW5kcy9BcHBseUFTMkRlcHRoc0NvbW1hbmQuanMiLCJzb3VyY2VSb290IjoiLi4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERpc3BsYXlPYmplY3QgPSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2Jhc2UvRGlzcGxheU9iamVjdFwiKTtcclxuaW1wb3J0IERpc3BsYXlPYmplY3RDb250YWluZXIgPSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2NvbnRhaW5lcnMvRGlzcGxheU9iamVjdENvbnRhaW5lclwiKTtcclxuaW1wb3J0IEZyYW1lQ29tbWFuZCA9IHJlcXVpcmUoXCJhd2F5anMtcGxheWVyL2xpYi90aW1lbGluZS9jb21tYW5kcy9GcmFtZUNvbW1hbmRcIik7XHJcbmltcG9ydCBNb3ZpZUNsaXAgPSByZXF1aXJlKFwiYXdheWpzLXBsYXllci9saWIvZGlzcGxheS9Nb3ZpZUNsaXBcIik7XHJcblxyXG4vLyBXZSdyZSB1c2luZyBhIHNwZWNpZmljIGNvbW1hbmQgc28gd2UgZG9uJ3QgbmVlZCB0byBtYW5hZ2UgYW4gQVMyLWxpa2UgXCJkZXB0aFwiIHByb3BlcnR5LCB3aGljaCBoYXMgbm8gbWVhbmluZyBpbiBBd2F5M0QncyBkaXNwbGF5IGhpZXJhcmNoeVxyXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIGl0c2VsZiBpcyBhIGhhY2ssIHRobywgYnV0IGl0IHdvcmtzLlxyXG5jbGFzcyBBcHBseUFTMkRlcHRoc0NvbW1hbmQgaW1wbGVtZW50cyBGcmFtZUNvbW1hbmRcclxue1xyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleGVjdXRlKHNvdXJjZU1vdmllQ2xpcCA6IE1vdmllQ2xpcCwgdGltZTpudW1iZXIpOnZvaWRcclxuICAgIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW5BcnJheSA9IHNvdXJjZU1vdmllQ2xpcFtcIl9jaGlsZHJlblwiXTtcclxuICAgICAgICBjaGlsZHJlbkFycmF5LnNvcnQodGhpcy5zb3J0Q2hpbGRyZW5CeURlcHRoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNvcnRDaGlsZHJlbkJ5RGVwdGgoYTpEaXNwbGF5T2JqZWN0LCBiOkRpc3BsYXlPYmplY3QpIDogbnVtYmVyXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGRhID0gPG51bWJlcj4oYVtcIl9fQVMyRGVwdGhcIl0pO1xyXG4gICAgICAgIHZhciBkYiA9IDxudW1iZXI+KGJbXCJfX0FTMkRlcHRoXCJdKTtcclxuICAgICAgICBpZiAoZGEgPT09IHVuZGVmaW5lZCkgZGEgPSAwO1xyXG4gICAgICAgIGlmIChkYiA9PT0gdW5kZWZpbmVkKSBkYiA9IDA7XHJcbiAgICAgICAgcmV0dXJuIGRiIC0gZGE7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gQXBwbHlBUzJEZXB0aHNDb21tYW5kOyJdfQ==